{{ < header }}
{{$title}}Search - DialogueFinder{{/title}}
{{ / header }}
<div id="page" style="overflow:auto">
    {{#results}}
    <article class="results">
        <div class="grid">
            <div style="max-height:300px">
                <img style="width:100%" src="/files/covers/{{episode}}.jpg" onerror="this.style.display='none'" />
            </div>
            <div style="text-align:left">
                <h6 style="margin:3px">{{episode}}</h6>
                {{#dialogues}}
                <a hx-get="/dialogue?episode={{episode}}&index={{dialogue.index}}"
                   hx-select="#page" hx-swap="innerHTML show:window:top" hx-push-url="true" hx-target="#page" hx-indicator="#loading">
                    <p>{{{highlight}}} <br><small>{{dialogue.startTime}}</small></p>
                </a>
                {{/dialogues}}
            </div>
        </div>
    </article>
    {{/results}}

    {{^results}}
        <article style="text-align:center">No results found</article>
    {{/results}}
</div>
{{ >footer }}